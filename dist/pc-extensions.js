var pce=function(t){var e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=10)}([function(t,e){pc.Entity.prototype.emit=pc.Entity.prototype.fire},function(t,e){pc.CurveSet.prototype.add=function(t,e){Array.isArray(e.data)&&(e=e.data),this.curves.length!==e.length&&console.warn("Data lengths mismatch."),this.curves.forEach(function(r,n){r.add(t,e[n])})}},function(t,e){pc.Entity.prototype.traverseParents=function(t){var e=this.parent;e&&(t(e),e.traverseParents(t))},pc.Entity.prototype.findParents=function(t){var e=this.parent;if(e)return t(e)?e:e.findParents(t)},pc.Entity.prototype.getAllParents=function(){var t=[];return this.traverseParents(function(e){t.push(e)}),t}},function(t,e){pc.Vec3.prototype.copyFromObject=function(t){return this.set(t.x,t.y,t.z),this},pc.Vec3.prototype.randomize=function(t=1){return t/=2,this.x=pc.math.random(-t,t),this.y=pc.math.random(-t,t),this.z=pc.math.random(-t,t),this},pc.Vec3.prototype.toObject=function(){return{x:this.x,y:this.y,z:this.z}},pc.Vec3.isVec3=function(t){return null!=t.x&&null!=t.y&&null!=t.z},pc.Vec3.getCenter=function(t,e){var r=t.clone();return r.x+=(e.x-t.x)/2,r.y+=(e.y-t.y)/2,r.z+=(e.z-t.z)/2,r}},function(t){t.exports={name:"pc-extensions",description:"",version:"0.0.0",main:"dist/pc-extensions.js",module:"src/index.js",scripts:{dev:"webpack --mode development",build:"webpack --mode production",start:"npm run build"},devDependencies:{"clean-webpack-plugin":"^0.1.19",webpack:"^4.20.2","webpack-cli":"^3.1.2"},dependencies:{},engine:{node:">=9.0.0"}}},function(t,e,r){"use strict";r.r(e),e.default={Polar3:r(6).default,ScriptType:r(7).default}},function(t,e,r){"use strict";r.r(e),r.d(e,"default",function(){return n});class n{constructor(t=0,e=0,r=0){this.r=t,this.theta=e,this.phi=r}get lon(){return this.theta}set lon(t){this.theta=t}get lat(){return this.phi}set lat(t){this.phi=t}toVec3(){return(new pc.Vec3).setFromPolar(this)}toString(){return`[${this.r}, ${this.theta}, ${this.phi}]`}}pc.Vec3.prototype.getPolar=function(){return new n(this.length(),Math.asin(this.z/this.length())*pc.math.RAD_TO_DEG,Math.atan2(this.y,this.x)*pc.math.RAD_TO_DEG)},pc.Vec3.prototype.setFromPolar=function(t,e,r){return"object"==typeof t&&(e=t.theta*pc.math.DEG_TO_RAD,r=t.phi*pc.math.DEG_TO_RAD,t=t.r),this.x=t*Math.cos(r)*Math.cos(e),this.y=t*Math.sin(r),this.z=t*Math.cos(r)*Math.sin(e),this}},function(t,e,r){"use strict";r.r(e),r.d(e,"default",function(){return n});class n{constructor(t){t&&t.app&&t.entity||console.warn("script '"+this.constructor.name+"' has missing arguments in consructor"),pc.events.attach(this),this.app=t.app,this.entity=t.entity,this._enabled="boolean"!=typeof t.enabled||t.enabled,this._enabledOld=this.enabled,this.__destroyed=!1,this.__attributes={},this.__attributesRaw=t.attributes||null}__initializeAttributes(t){if(t||this.__attributesRaw){for(var e in script.attributes.index)this.__attributesRaw&&this.__attributesRaw.hasOwnProperty(e)?this[e]=this.__attributesRaw[e]:this.__attributes.hasOwnProperty(e)||(script.attributes.index[e].hasOwnProperty("default")?this[e]=script.attributes.index[e].default:this[e]=null);this.__attributesRaw=null}}static extend(t){for(var e in t)t.hasOwnProperty(e)&&(this.prototype[e]=t[e])}static register(){console.log("register",this,this.constructor.name,this.isPrototypeOf(n)),pc.Application.getApplication().scripts.add(script),pc.ScriptHandler._push(script)}}},function(t,e,r){"use strict";r.r(e),e.default=Object.assign({},r(9))},function(t,e,r){"use strict";function n(t,e){var r={name:"Untitled",settings:{},entities:{}};return e||(e=t.root),r.entities[e._guid]=i(e),r.entities[e._guid].parent=null,e.find(t=>{t._guid&&(r.entities[t._guid]=i(t))}),r}function i(t){var e={resource_id:t._guid,enabled:t.enabled,name:t.name,position:t.getLocalPosition().toArray(),rotation:t.getEulerAngles().toArray(),scale:t.getLocalScale().toArray(),tags:t.tags._list,children:t.children.map(t=>t._guid).filter(t=>t),parent:null,components:{}};return t.parent&&(e.parent=t.parent._guid),t.c&&Object.keys(t.c).length&&(e.components=function(t){var e={};for(let r in t.c){let n=t.c[r],i=e[r]={};for(let t in n.data){let e=n.data[t],r=typeof e;"boolean"!==r&&"number"!==r&&"string"!==r||(i[t]=e),["layers"].includes(t)&&(i[t]=e)}switch(r){case"camera":Object.assign(i,{clearColor:n.clearColor.toArray(),rect:n.rect.toArray()});break;case"model":Object.assign(i,{material:n.material.id});break;case"script":Object.assign(i,{scripts:n.scripts.map(t=>({enabled:t.enabled,name:t.__scriptType.__name,_attributes:t.__attributesRaw,attributes:t.__attributes,runInEditor:t._runInEditor}))})}}return e}(t)),e}function a(t,e){var r=new pc.SceneParser(t);try{var n=r.parse(e)}catch(t){}return n||(n=new pc.Entity("Root")),n}r.r(e),r.d(e,"serializeScene",function(){return n}),r.d(e,"serializeEntity",function(){return i}),r.d(e,"deserializeScene",function(){return a}),pc.Vec2.prototype.toArray=function(){return Array.from(this.data)},pc.Vec3.prototype.toArray=function(){return Array.from(this.data)},pc.Vec4.prototype.toArray=function(){return Array.from(this.data)},pc.Color.prototype.toArray=function(){return Array.from(this.data)}},function(t,e,r){"use strict";r.r(e);r(0),r(1),r(2),r(3);var n=n;if(!n){n=r(4).version}var i={version:n};Object.assign(i,r(5).default,r(8).default);e.default=i}]);